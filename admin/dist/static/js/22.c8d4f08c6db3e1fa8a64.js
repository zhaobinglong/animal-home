webpackJsonp([22],{"T+iO":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("6sKG"),l=o.n(a),r=o("2uFj"),s=o.n(r),i=o("ZoQJ"),n=o("gyMJ"),c={data:function(){return{upload_url:s.a.base+"upload_tencent_cloud.php",form:{}}},watch:{$route:function(){this.getDetail()}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;if("add"==this.$route.params.openid){var t=(new Date).getTime();return this.form={createtime:parseInt(t),openid:i.a.randomString(28)},!1}Object(n.g)({openid:this.$route.params.openid}).then(function(t){console.log(t),e.form=t})},onSubmit:function(){var e=s.a.base+"wechat.php?ctrl=api&action=adminEditUser",t=this;l.a.post(e,t.form).then(function(e){console.log(e),t.$message({message:"编辑成功",type:"success"})})},topUploadSuccess:function(e,t,o){console.log(e),this.form.avatarUrl=e.url}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"微信昵称"}},[o("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"初始大学"}},[o("el-input",{model:{value:e.form.college,callback:function(t){e.$set(e.form,"college",t)},expression:"form.college"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"微信openid"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.openid,callback:function(t){e.$set(e.form,"openid",t)},expression:"form.openid"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"头像"}},[o("el-col",[o("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.form.img_arr,action:e.upload_url,"on-success":e.topUploadSuccess,"list-type":"picture"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"用户状态"}},[o("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"加入时间"}},[o("el-date-picker",{attrs:{disabled:"",type:"date",placeholder:"选择日期"},model:{value:e.form.createtime,callback:function(t){e.$set(e.form,"createtime",t)},expression:"form.createtime"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),o("el-button",[e._v("取消")])],1)],1)],1)])},staticRenderFns:[]},u=o("C7Lr")(c,m,!1,null,null,null);t.default=u.exports}});